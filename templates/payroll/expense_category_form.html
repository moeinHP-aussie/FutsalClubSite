{% extends "base.html" %}
{% block title %}Ø¯Ø³ØªÙ‡ Ù‡Ø²ÛŒÙ†Ù‡ Ø¬Ø¯ÛŒØ¯{% endblock %}
{% block nav_expenses %}active{% endblock %}

{% block breadcrumb %}
  <span class="sep">â€º</span>
  <a href="{% url 'payroll:expense-list' %}" style="text-decoration:none;color:inherit">Ù‡Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§</a>
  <span class="sep">â€º</span><span class="cur">Ø¯Ø³ØªÙ‡ Ø¬Ø¯ÛŒØ¯</span>
{% endblock %}

{% block content %}
<div style="max-width:500px;margin:0 auto">
  <div class="card" style="padding:0;overflow:hidden">
    <div style="height:4px;background:linear-gradient(90deg,var(--amber),var(--red))"></div>
    <div style="padding:1.5rem 1.75rem">

      <div style="display:flex;align-items:center;gap:.75rem;margin-bottom:1.5rem">
        <div style="width:42px;height:42px;background:linear-gradient(135deg,var(--amber),#ef4444);border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:1.3rem">ğŸ·ï¸</div>
        <div>
          <h1 style="font-size:1.1rem;font-weight:900;color:var(--navy)">Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø³ØªÙ‡ Ù‡Ø²ÛŒÙ†Ù‡ Ø¬Ø¯ÛŒØ¯</h1>
          <p style="font-size:.78rem;color:var(--text-muted)">Ù…Ø«Ø§Ù„: Ø§Ø¬Ø§Ø±Ù‡ Ø³Ø§Ù„Ù†ØŒ ØªØ¬Ù‡ÛŒØ²Ø§ØªØŒ Ø­Ù…Ù„â€ŒÙˆÙ†Ù‚Ù„</p>
        </div>
      </div>

      {% if error %}
      <div style="background:#fee2e2;border:1.5px solid #fca5a5;border-radius:10px;padding:.85rem 1rem;margin-bottom:1rem;font-size:.85rem;color:#991b1b">
        âš ï¸ {{ error }}
      </div>
      {% endif %}

      <form method="post">
        {% csrf_token %}

        <div style="margin-bottom:1rem">
          <label for="id_name" style="font-size:.85rem;font-weight:700;display:block;margin-bottom:.35rem">
            Ù†Ø§Ù… Ø¯Ø³ØªÙ‡ <span style="color:var(--red)">*</span>
          </label>
          <input type="text" id="id_name" name="name" required maxlength="120"
                 value="{{ form_data.name|default:'' }}"
                 placeholder="Ù…Ø«Ø§Ù„: Ø§Ø¬Ø§Ø±Ù‡ Ø³Ø§Ù„Ù†"
                 style="width:100%;padding:.6rem .85rem;border:1.5px solid #d1d5db;border-radius:8px;
                        font-family:inherit;font-size:.9rem;box-sizing:border-box;direction:rtl;
                        outline:none;transition:border-color .2s"
                 onfocus="this.style.borderColor='var(--primary,#6366f1)'"
                 onblur="this.style.borderColor='#d1d5db'">
        </div>

        <div style="margin-bottom:1rem">
          <label for="id_description" style="font-size:.85rem;font-weight:700;display:block;margin-bottom:.35rem">
            ØªÙˆØ¶ÛŒØ­Ø§Øª
          </label>
          <textarea id="id_description" name="description" rows="3"
                    placeholder="ØªÙˆØ¶ÛŒØ­ Ø§Ø®ØªÛŒØ§Ø±ÛŒ..."
                    style="width:100%;padding:.6rem .85rem;border:1.5px solid #d1d5db;border-radius:8px;
                           font-family:inherit;font-size:.9rem;box-sizing:border-box;resize:vertical;direction:rtl;
                           outline:none;transition:border-color .2s"
                    onfocus="this.style.borderColor='var(--primary,#6366f1)'"
                    onblur="this.style.borderColor='#d1d5db'">{{ form_data.description|default:'' }}</textarea>
        </div>

        <div style="margin-bottom:1.5rem;display:flex;align-items:center;gap:.5rem">
          <input type="checkbox" id="id_is_active" name="is_active" checked
                 style="width:18px;height:18px;cursor:pointer;accent-color:#22c55e">
          <label for="id_is_active" style="font-size:.875rem;font-weight:600;cursor:pointer">ÙØ¹Ø§Ù„</label>
        </div>

        <div style="display:flex;gap:.6rem;justify-content:flex-end">
          <a href="{% url 'payroll:expense-category-list' %}" class="btn btn-outline">Ø§Ù†ØµØ±Ø§Ù</a>
          <button type="submit" class="btn btn-amber">âœ… Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø³ØªÙ‡</button>
        </div>
      </form>

    </div>
  </div>
</div>
{% endblock %}