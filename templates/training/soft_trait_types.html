{% extends "base.html" %}
{% block title %}Ø§Ù†ÙˆØ§Ø¹ ÙˆÛŒÚ˜Ú¯ÛŒ Ù†Ø±Ù…{% endblock %}
{% block nav_players %}active{% endblock %}

{% block breadcrumb %}
  <span class="sep">â€º</span><span class="cur">ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù†Ø±Ù…</span>
{% endblock %}

{% block content %}
<div style="max-width:620px;margin:0 auto">
  <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem">
    <h1 style="font-size:1.1rem;font-weight:900;color:var(--navy)">ğŸ§  Ø§Ù†ÙˆØ§Ø¹ ÙˆÛŒÚ˜Ú¯ÛŒ Ù†Ø±Ù…</h1>
    <a href="javascript:history.back()" class="btn btn-outline btn-sm">â† Ø¨Ø§Ø²Ú¯Ø´Øª</a>
  </div>

  <!-- Add form -->
  <div class="card" style="padding:1rem 1.25rem;margin-bottom:1rem">
    <div style="font-size:.85rem;font-weight:700;margin-bottom:.75rem;color:var(--navy)">â• Ø§ÙØ²ÙˆØ¯Ù† ÙˆÛŒÚ˜Ú¯ÛŒ Ø¬Ø¯ÛŒØ¯</div>
    <form method="post" style="display:flex;gap:.6rem;flex-wrap:wrap;align-items:flex-end">
      {% csrf_token %}
      <div style="flex:1;min-width:160px">
        <label style="font-size:.78rem;font-weight:700;display:block;margin-bottom:.25rem">Ù†Ø§Ù… ÙˆÛŒÚ˜Ú¯ÛŒ *</label>
        <input type="text" name="name" required placeholder="Ù…Ø«Ø§Ù„: Ø±Ù‡Ø¨Ø±ÛŒØŒ Ù…Ù‡Ø§Ø±Øª Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ"
               style="width:100%;padding:.5rem .75rem;border:1.5px solid var(--surface-2);border-radius:8px;font-family:inherit;font-size:.85rem">
      </div>
      <div style="flex:1;min-width:160px">
        <label style="font-size:.78rem;font-weight:700;display:block;margin-bottom:.25rem">ØªÙˆØ¶ÛŒØ­Ø§Øª</label>
        <input type="text" name="description" placeholder="Ø§Ø®ØªÛŒØ§Ø±ÛŒ"
               style="width:100%;padding:.5rem .75rem;border:1.5px solid var(--surface-2);border-radius:8px;font-family:inherit;font-size:.85rem">
      </div>
      <button type="submit" class="btn btn-navy btn-sm">Ø§ÙØ²ÙˆØ¯Ù†</button>
    </form>
  </div>

  <!-- List -->
  <div class="card">
    <div class="card-header"><span class="card-title">Ù„ÛŒØ³Øª ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§</span></div>
    {% if traits %}
    <div style="padding:.5rem .75rem">
      {% for trait in traits %}
      <div style="display:flex;align-items:center;gap:.75rem;padding:.6rem 0;border-bottom:1px solid var(--surface-2)">
        <div style="flex:1">
          <div style="font-size:.875rem;font-weight:700">{{ trait.name }}</div>
          {% if trait.description %}
          <div style="font-size:.75rem;color:var(--text-muted);margin-top:.1rem">{{ trait.description }}</div>
          {% endif %}
        </div>
        <span class="badge {% if trait.is_active %}badge-green{% else %}badge-red{% endif %}">
          {% if trait.is_active %}ÙØ¹Ø§Ù„{% else %}ØºÛŒØ±ÙØ¹Ø§Ù„{% endif %}
        </span>
        {% if trait.is_active %}
        <form method="post" action="{% url 'training:soft-trait-type-delete' trait.pk %}"
              onsubmit="return confirm('ØºÛŒØ±ÙØ¹Ø§Ù„ Ø´ÙˆØ¯ØŸ')">
          {% csrf_token %}
          <button type="submit" class="btn btn-sm"
                  style="border:1.5px solid var(--red);color:var(--red);padding:.25rem .6rem">
            ØºÛŒØ±ÙØ¹Ø§Ù„
          </button>
        </form>
        {% endif %}
      </div>
      {% endfor %}
    </div>
    {% else %}
    <div style="text-align:center;padding:2rem;color:var(--text-muted);font-size:.875rem">
      Ù‡Ù†ÙˆØ² ÙˆÛŒÚ˜Ú¯ÛŒ Ù†Ø±Ù…ÛŒ ØªØ¹Ø±ÛŒÙ Ù†Ø´Ø¯Ù‡.
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}
