{% extends "base.html" %}
{% block title %}{% if is_edit %}ÙˆÛŒØ±Ø§ÛŒØ´ Ù…Ø±Ø¨ÛŒ{% else %}Ù…Ø±Ø¨ÛŒ Ø¬Ø¯ÛŒØ¯{% endif %}{% endblock %}
{% block nav_coaches %}active{% endblock %}

{% block breadcrumb %}
  <span class="sep">â€º</span>
  <a href="{% url 'training:coach-list' %}" style="text-decoration:none;color:inherit">Ù…Ø±Ø¨ÛŒØ§Ù†</a>
  <span class="sep">â€º</span>
  <span class="cur">{% if is_edit %}ÙˆÛŒØ±Ø§ÛŒØ´{% else %}Ù…Ø±Ø¨ÛŒ Ø¬Ø¯ÛŒØ¯{% endif %}</span>
{% endblock %}

{% block content %}
<div style="max-width:600px;margin:0 auto">
  <div class="card" style="padding:0;overflow:hidden">
    <div style="height:4px;background:linear-gradient(90deg,var(--teal),var(--navy))"></div>
    <div style="padding:1.5rem 1.75rem">

      <div style="display:flex;align-items:center;gap:.75rem;margin-bottom:1.5rem">
        <div style="width:42px;height:42px;background:linear-gradient(135deg,var(--teal),var(--navy));border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:1.3rem">ğŸƒ</div>
        <div>
          <h1 style="font-size:1.1rem;font-weight:900;color:var(--navy)">
            {% if is_edit %}ÙˆÛŒØ±Ø§ÛŒØ´ Â«{{ object.first_name }} {{ object.last_name }}Â»{% else %}Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø±Ø¨ÛŒ Ø¬Ø¯ÛŒØ¯{% endif %}
          </h1>
          <p style="font-size:.78rem;color:var(--text-muted)">Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ø±Ø¨ÛŒ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯</p>
        </div>
      </div>

      {% if form.errors %}
      <div class="server-errors" style="margin-bottom:1rem">
        âš ï¸ {% for field in form %}{% for err in field.errors %}<div>â€¢ {{ field.label }}: {{ err }}</div>{% endfor %}{% endfor %}
      </div>
      {% endif %}

      <form method="post">
        {% csrf_token %}

        <div style="display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem">
          <div>
            <label style="font-size:.85rem;font-weight:700;display:block;margin-bottom:.3rem">Ù†Ø§Ù… <span style="color:var(--red)">*</span></label>
            {{ form.first_name }}
            {% if form.first_name.errors %}<div style="font-size:.72rem;color:var(--red);margin-top:.2rem">{{ form.first_name.errors.0 }}</div>{% endif %}
          </div>
          <div>
            <label style="font-size:.85rem;font-weight:700;display:block;margin-bottom:.3rem">Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ <span style="color:var(--red)">*</span></label>
            {{ form.last_name }}
          </div>
        </div>

        <div style="display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem">
          <div>
            <label style="font-size:.85rem;font-weight:700;display:block;margin-bottom:.3rem">Ù…Ø¯Ø±Ú© Ù…Ø±Ø¨ÛŒÚ¯Ø±ÛŒ</label>
            {{ form.degree }}
          </div>
          <div>
            <label style="font-size:.85rem;font-weight:700;display:block;margin-bottom:.3rem">Ù…ÙˆØ¨Ø§ÛŒÙ„ <span style="color:var(--red)">*</span></label>
            {{ form.phone }}
            {% if form.phone.errors %}<div style="font-size:.72rem;color:var(--red);margin-top:.2rem">{{ form.phone.errors.0 }}</div>{% endif %}
          </div>
        </div>

        <div style="margin-bottom:1rem">
          <label style="font-size:.85rem;font-weight:700;display:block;margin-bottom:.3rem">Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª Ø¨Ø§Ù†Ú©ÛŒ</label>
          {{ form.bank_card_number }}
          <span style="font-size:.72rem;color:var(--text-muted)">Û±Û¶ Ø±Ù‚Ù… â€” Ø¨Ø±Ø§ÛŒ ÙˆØ§Ø±ÛŒØ² Ø­Ù‚ÙˆÙ‚</span>
          {% if form.bank_card_number.errors %}<div style="font-size:.72rem;color:var(--red);margin-top:.2rem">{{ form.bank_card_number.errors.0 }}</div>{% endif %}
        </div>

        <div style="margin-bottom:1rem">
          <label style="font-size:.85rem;font-weight:700;display:block;margin-bottom:.3rem">Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø³ÛŒØ³ØªÙ…</label>
          {{ form.user }}
          <span style="font-size:.72rem;color:var(--text-muted)">Ø§Ú¯Ø± Ø§ÛŒÙ† Ù…Ø±Ø¨ÛŒ Ø¨Ø§ÛŒØ¯ Ø¨ØªÙˆØ§Ù†Ø¯ ÙˆØ§Ø±Ø¯ Ø³ÛŒØ³ØªÙ… Ø´ÙˆØ¯</span>
        </div>

        <div style="margin-bottom:1.5rem;display:flex;align-items:center;gap:.6rem">
          {{ form.is_active }}
          <label for="{{ form.is_active.id_for_label }}" style="font-size:.875rem;font-weight:600;cursor:pointer">Ø§ÛŒÙ† Ù…Ø±Ø¨ÛŒ ÙØ¹Ø§Ù„ Ø§Ø³Øª</label>
        </div>

        <div style="display:flex;gap:.6rem;justify-content:flex-end">
          <a href="{% url 'training:coach-list' %}" class="btn btn-outline">Ø§Ù†ØµØ±Ø§Ù</a>
          <button type="submit" class="btn btn-amber">
            {% if is_edit %}ğŸ’¾ Ø°Ø®ÛŒØ±Ù‡{% else %}âœ… Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø±Ø¨ÛŒ{% endif %}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
