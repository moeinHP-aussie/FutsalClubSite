# Generated by Django 4.2.16 on 2026-02-19 18:23

from django.conf import settings
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone
import django_jalali.db.models
import uuid


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0012_alter_user_first_name_max_length'),
    ]

    operations = [
        migrations.CreateModel(
            name='CustomUser',
            fields=[
                ('password', models.CharField(max_length=128, verbose_name='password')),
                ('last_login', models.DateTimeField(blank=True, null=True, verbose_name='last login')),
                ('is_superuser', models.BooleanField(default=False, help_text='Designates that this user has all permissions without explicitly assigning them.', verbose_name='superuser status')),
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('username', models.CharField(max_length=150, unique=True, verbose_name='نام کاربری')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='ایمیل')),
                ('first_name', models.CharField(max_length=100, verbose_name='نام')),
                ('last_name', models.CharField(max_length=100, verbose_name='نام خانوادگی')),
                ('phone', models.CharField(blank=True, max_length=11, validators=[django.core.validators.RegexValidator(message='شماره موبایل باید ۱۱ رقم بوده و با ۰۹ شروع شود.', regex='^09\\d{9}$')], verbose_name='شماره موبایل')),
                ('avatar', models.ImageField(blank=True, null=True, upload_to='avatars/', verbose_name='تصویر پروفایل')),
                ('is_new_applicant', models.BooleanField(default=False, verbose_name='متقاضی جدید')),
                ('is_technical_director', models.BooleanField(default=False, verbose_name='مدیر فنی')),
                ('is_finance_manager', models.BooleanField(default=False, verbose_name='مدیر مالی')),
                ('is_coach', models.BooleanField(default=False, verbose_name='مربی')),
                ('is_player', models.BooleanField(default=False, verbose_name='بازیکن')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('is_staff', models.BooleanField(default=False, verbose_name='کارمند سیستم')),
                ('date_joined', django_jalali.db.models.jDateTimeField(default=django.utils.timezone.now, verbose_name='تاریخ عضویت')),
                ('groups', models.ManyToManyField(blank=True, help_text='The groups this user belongs to. A user will get all permissions granted to each of their groups.', related_name='user_set', related_query_name='user', to='auth.group', verbose_name='groups')),
                ('user_permissions', models.ManyToManyField(blank=True, help_text='Specific permissions for this user.', related_name='user_set', related_query_name='user', to='auth.permission', verbose_name='user permissions')),
            ],
            options={
                'verbose_name': 'کاربر',
                'verbose_name_plural': 'کاربران',
            },
        ),
        migrations.CreateModel(
            name='AttendanceSheet',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('jalali_year', models.PositiveSmallIntegerField(verbose_name='سال شمسی')),
                ('jalali_month', models.PositiveSmallIntegerField(verbose_name='ماه شمسی')),
                ('is_finalized', models.BooleanField(default=False, verbose_name='نهایی شده')),
                ('created_at', django_jalali.db.models.jDateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('finalized_at', django_jalali.db.models.jDateTimeField(blank=True, null=True, verbose_name='تاریخ نهایی\u200cسازی')),
            ],
            options={
                'verbose_name': 'لیست حضور و غیاب',
                'verbose_name_plural': 'لیست\u200cهای حضور و غیاب',
            },
        ),
        migrations.CreateModel(
            name='Coach',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('first_name', models.CharField(max_length=100, verbose_name='نام')),
                ('last_name', models.CharField(max_length=100, verbose_name='نام خانوادگی')),
                ('degree', models.CharField(blank=True, choices=[('level1', 'درجه ۱'), ('level2', 'درجه ۲'), ('level3', 'درجه ۳'), ('afc_a', 'AFC A'), ('afc_b', 'AFC B'), ('afc_c', 'AFC C'), ('other', 'سایر')], max_length=10, verbose_name='مدرک مربیگری')),
                ('phone', models.CharField(max_length=11, validators=[django.core.validators.RegexValidator(message='شماره موبایل باید ۱۱ رقم بوده و با ۰۹ شروع شود.', regex='^09\\d{9}$')], verbose_name='موبایل')),
                ('bank_card_number', models.CharField(blank=True, max_length=16, validators=[django.core.validators.RegexValidator('^\\d{16}$', 'شماره کارت باید ۱۶ رقم باشد.')], verbose_name='شماره کارت بانکی')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('created_at', django_jalali.db.models.jDateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='coach_profile', to=settings.AUTH_USER_MODEL, verbose_name='حساب کاربری')),
            ],
            options={
                'verbose_name': 'مربی',
                'verbose_name_plural': 'مربیان',
            },
        ),
        migrations.CreateModel(
            name='CoachCategoryRate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('session_rate', models.DecimalField(decimal_places=0, max_digits=12, verbose_name='نرخ هر جلسه (ریال)')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('assigned_at', django_jalali.db.models.jDateTimeField(auto_now_add=True, verbose_name='تاریخ تخصیص')),
            ],
            options={
                'verbose_name': 'نرخ مربی در دسته',
                'verbose_name_plural': 'نرخ\u200cهای مربیان در دسته\u200cها',
            },
        ),
        migrations.CreateModel(
            name='ExerciseTag',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=80, unique=True, verbose_name='برچسب')),
            ],
            options={
                'verbose_name': 'برچسب تمرین',
                'verbose_name_plural': 'برچسب\u200cهای تمرین',
            },
        ),
        migrations.CreateModel(
            name='Player',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('player_id', models.CharField(editable=False, max_length=12, unique=True, verbose_name='شناسه یکتا بازیکن')),
                ('first_name', models.CharField(max_length=100, verbose_name='نام')),
                ('last_name', models.CharField(max_length=100, verbose_name='نام خانوادگی')),
                ('father_name', models.CharField(max_length=100, verbose_name='نام پدر')),
                ('dob', django_jalali.db.models.jDateField(verbose_name='تاریخ تولد (شمسی)')),
                ('national_id', models.CharField(max_length=10, unique=True, validators=[django.core.validators.RegexValidator(message='کد ملی باید دقیقاً ۱۰ رقم باشد.', regex='^\\d{10}$')], verbose_name='کد ملی')),
                ('phone', models.CharField(max_length=11, validators=[django.core.validators.RegexValidator(message='شماره موبایل باید ۱۱ رقم بوده و با ۰۹ شروع شود.', regex='^09\\d{9}$')], verbose_name='موبایل بازیکن')),
                ('father_phone', models.CharField(max_length=11, validators=[django.core.validators.RegexValidator(message='شماره موبایل باید ۱۱ رقم بوده و با ۰۹ شروع شود.', regex='^09\\d{9}$')], verbose_name='موبایل پدر')),
                ('mother_phone', models.CharField(blank=True, max_length=11, validators=[django.core.validators.RegexValidator(message='شماره موبایل باید ۱۱ رقم بوده و با ۰۹ شروع شود.', regex='^09\\d{9}$')], verbose_name='موبایل مادر')),
                ('address', models.TextField(blank=True, verbose_name='آدرس')),
                ('height', models.PositiveSmallIntegerField(blank=True, null=True, verbose_name='قد (سانتی\u200cمتر)')),
                ('weight', models.DecimalField(blank=True, decimal_places=1, max_digits=5, null=True, verbose_name='وزن (کیلوگرم)')),
                ('preferred_hand', models.CharField(choices=[('R', 'راست'), ('L', 'چپ')], default='R', max_length=1, verbose_name='دست برتر')),
                ('preferred_foot', models.CharField(choices=[('R', 'راست'), ('L', 'چپ')], default='R', max_length=1, verbose_name='پای برتر')),
                ('medical_history', models.TextField(blank=True, verbose_name='سابقه پزشکی')),
                ('injury_history', models.TextField(blank=True, verbose_name='سابقه آسیب\u200cدیدگی')),
                ('father_education', models.CharField(blank=True, choices=[('illiterate', 'بی\u200cسواد'), ('elementary', 'ابتدایی'), ('middle', 'راهنمایی'), ('high_school', 'دیپلم'), ('associate', 'فوق دیپلم'), ('bachelor', 'لیسانس'), ('master', 'فوق لیسانس'), ('phd', 'دکترا')], max_length=20, verbose_name='تحصیلات پدر')),
                ('father_job', models.CharField(blank=True, max_length=150, verbose_name='شغل پدر')),
                ('mother_education', models.CharField(blank=True, choices=[('illiterate', 'بی\u200cسواد'), ('elementary', 'ابتدایی'), ('middle', 'راهنمایی'), ('high_school', 'دیپلم'), ('associate', 'فوق دیپلم'), ('bachelor', 'لیسانس'), ('master', 'فوق لیسانس'), ('phd', 'دکترا')], max_length=20, verbose_name='تحصیلات مادر')),
                ('mother_job', models.CharField(blank=True, max_length=150, verbose_name='شغل مادر')),
                ('insurance_status', models.CharField(choices=[('none', 'بدون بیمه'), ('active', 'دارای بیمه فعال')], default='none', help_text='در صورت نداشتن بیمه، از گزینه «بدون بیمه» استفاده کنید.', max_length=10, verbose_name='وضعیت بیمه')),
                ('insurance_expiry_date', django_jalali.db.models.jDateField(blank=True, null=True, verbose_name='تاریخ انقضای بیمه')),
                ('insurance_image', models.ImageField(blank=True, null=True, upload_to='insurance/', verbose_name='تصویر بیمه\u200cنامه')),
                ('status', models.CharField(choices=[('pending', 'در انتظار تأیید'), ('approved', 'تأیید شده'), ('rejected', 'رد شده'), ('archived', 'آرشیو شده')], default='pending', max_length=10, verbose_name='وضعیت')),
                ('approval_date', django_jalali.db.models.jDateTimeField(blank=True, null=True, verbose_name='تاریخ تأیید')),
                ('registration_date', django_jalali.db.models.jDateTimeField(auto_now_add=True, verbose_name='تاریخ ثبت\u200cنام')),
                ('notes', models.TextField(blank=True, verbose_name='یادداشت')),
                ('is_archived', models.BooleanField(default=False, verbose_name='آرشیو شده')),
                ('archived_at', django_jalali.db.models.jDateTimeField(blank=True, null=True, verbose_name='تاریخ آرشیو')),
                ('archive_reason', models.TextField(blank=True, verbose_name='دلیل آرشیو')),
                ('created_at', django_jalali.db.models.jDateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', django_jalali.db.models.jDateTimeField(auto_now=True, verbose_name='آخرین ویرایش')),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_players', to=settings.AUTH_USER_MODEL, verbose_name='تأیید شده توسط')),
                ('user', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='player_profile', to=settings.AUTH_USER_MODEL, verbose_name='حساب کاربری')),
            ],
            options={
                'verbose_name': 'بازیکن',
                'verbose_name_plural': 'بازیکنان',
                'ordering': ['last_name', 'first_name'],
            },
        ),
        migrations.CreateModel(
            name='TrainingCategory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=150, unique=True, verbose_name='نام دسته')),
                ('description', models.TextField(blank=True, verbose_name='توضیحات')),
                ('monthly_fee', models.DecimalField(decimal_places=0, default=0, max_digits=12, verbose_name='شهریه ماهانه (ریال)')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('created_at', django_jalali.db.models.jDateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('coaches', models.ManyToManyField(related_name='categories', through='futsal_club.CoachCategoryRate', to='futsal_club.coach', verbose_name='مربیان')),
                ('players', models.ManyToManyField(blank=True, related_name='categories', to='futsal_club.player', verbose_name='بازیکنان')),
            ],
            options={
                'verbose_name': 'دسته آموزشی',
                'verbose_name_plural': 'دسته\u200cهای آموزشی',
            },
        ),
        migrations.CreateModel(
            name='TechnicalProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('shirt_number', models.PositiveSmallIntegerField(blank=True, null=True, verbose_name='شماره پیراهن')),
                ('position', models.CharField(choices=[('pivot', 'پیوت'), ('winger', 'وینگر / بال'), ('fixo', 'فیکسو'), ('gk', 'دروازه\u200cبان'), ('-', 'مشخص نشده')], default='-', max_length=10, verbose_name='پست')),
                ('skill_level', models.CharField(blank=True, choices=[('A', 'A'), ('B', 'B'), ('C', 'C'), ('D', 'D'), ('E', 'E'), ('F', 'F')], max_length=1, verbose_name='سطح مهارت')),
                ('is_two_footed', models.BooleanField(default=False, verbose_name='دوپا')),
                ('coach_notes', models.TextField(blank=True, verbose_name='یادداشت مربی')),
                ('updated_at', django_jalali.db.models.jDateTimeField(auto_now=True, verbose_name='آخرین ویرایش')),
                ('player', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='technical_profile', to='futsal_club.player', verbose_name='بازیکن')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='updated_technical_profiles', to=settings.AUTH_USER_MODEL, verbose_name='آخرین ویرایش توسط')),
            ],
            options={
                'verbose_name': 'پروفایل فنی',
                'verbose_name_plural': 'پروفایل\u200cهای فنی',
            },
        ),
        migrations.CreateModel(
            name='SoftTraitType',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, unique=True, verbose_name='نام ویژگی')),
                ('description', models.TextField(blank=True, verbose_name='توضیحات')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('created_at', django_jalali.db.models.jDateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_trait_types', to=settings.AUTH_USER_MODEL, verbose_name='ایجاد شده توسط')),
            ],
            options={
                'verbose_name': 'نوع ویژگی نرم',
                'verbose_name_plural': 'انواع ویژگی نرم',
            },
        ),
        migrations.CreateModel(
            name='SessionDate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', django_jalali.db.models.jDateField(verbose_name='تاریخ جلسه')),
                ('session_number', models.PositiveSmallIntegerField(verbose_name='شماره جلسه')),
                ('notes', models.CharField(blank=True, max_length=255, verbose_name='یادداشت')),
                ('sheet', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='session_dates', to='futsal_club.attendancesheet', verbose_name='لیست')),
            ],
            options={
                'verbose_name': 'تاریخ جلسه',
                'verbose_name_plural': 'تاریخ جلسات',
                'ordering': ['date'],
                'unique_together': {('sheet', 'date')},
            },
        ),
        migrations.CreateModel(
            name='PlayerInvoice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('jalali_year', models.PositiveSmallIntegerField(verbose_name='سال شمسی')),
                ('jalali_month', models.PositiveSmallIntegerField(verbose_name='ماه شمسی')),
                ('amount', models.DecimalField(decimal_places=0, max_digits=14, verbose_name='مبلغ (ریال)')),
                ('discount', models.DecimalField(decimal_places=0, default=0, max_digits=12, verbose_name='تخفیف (ریال)')),
                ('final_amount', models.DecimalField(decimal_places=0, max_digits=14, verbose_name='مبلغ نهایی (ریال)')),
                ('status', models.CharField(choices=[('pending', 'در انتظار پرداخت'), ('paid', 'پرداخت شده'), ('debtor', 'بدهکار'), ('pending_confirm', 'در انتظار تأیید (رسید آپلود شده)')], default='pending', max_length=20, verbose_name='وضعیت پرداخت')),
                ('receipt_image', models.ImageField(blank=True, null=True, upload_to='receipts/', verbose_name='تصویر رسید')),
                ('zarinpal_ref_id', models.CharField(blank=True, max_length=100, verbose_name='شماره مرجع زرین\u200cپال')),
                ('zarinpal_authority', models.CharField(blank=True, max_length=100, verbose_name='Authority زرین\u200cپال')),
                ('paid_at', django_jalali.db.models.jDateTimeField(blank=True, null=True, verbose_name='تاریخ پرداخت')),
                ('notes', models.TextField(blank=True, verbose_name='یادداشت')),
                ('created_at', django_jalali.db.models.jDateTimeField(auto_now_add=True, verbose_name='تاریخ صدور')),
                ('updated_at', django_jalali.db.models.jDateTimeField(auto_now=True, verbose_name='آخرین ویرایش')),
                ('category', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='invoices', to='futsal_club.trainingcategory', verbose_name='دسته آموزشی')),
                ('confirmed_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='confirmed_invoices', to=settings.AUTH_USER_MODEL, verbose_name='تأیید شده توسط')),
                ('player', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='invoices', to='futsal_club.player', verbose_name='بازیکن')),
            ],
            options={
                'verbose_name': 'فاکتور شهریه',
                'verbose_name_plural': 'فاکتورهای شهریه',
                'ordering': ['-jalali_year', '-jalali_month'],
                'unique_together': {('player', 'category', 'jalali_year', 'jalali_month')},
            },
        ),
        migrations.CreateModel(
            name='PaymentLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('authority', models.CharField(max_length=100, unique=True, verbose_name='Authority')),
                ('ref_id', models.CharField(blank=True, max_length=100, verbose_name='Ref ID')),
                ('amount', models.DecimalField(decimal_places=0, max_digits=14, verbose_name='مبلغ (ریال)')),
                ('result', models.CharField(choices=[('initiated', 'شروع شده'), ('success', 'موفق'), ('failed', 'ناموفق'), ('canceled', 'لغو شده')], default='initiated', max_length=15, verbose_name='نتیجه')),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True, verbose_name='آدرس IP')),
                ('created_at', django_jalali.db.models.jDateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('verified_at', django_jalali.db.models.jDateTimeField(blank=True, null=True, verbose_name='تاریخ تأیید')),
                ('raw_response', models.JSONField(blank=True, default=dict, verbose_name='پاسخ خام')),
                ('invoice', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='payment_logs', to='futsal_club.playerinvoice', verbose_name='فاکتور')),
            ],
            options={
                'verbose_name': 'لاگ پرداخت',
                'verbose_name_plural': 'لاگ\u200cهای پرداخت',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Notification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('type', models.CharField(choices=[('insurance_expiry', 'انقضای بیمه'), ('invoice_due', 'سررسید فاکتور'), ('salary_ready', 'آماده بودن حقوق'), ('general', 'عمومی')], default='general', max_length=30, verbose_name='نوع اعلان')),
                ('title', models.CharField(max_length=255, verbose_name='عنوان')),
                ('message', models.TextField(verbose_name='پیام')),
                ('is_read', models.BooleanField(default=False, verbose_name='خوانده شده')),
                ('created_at', django_jalali.db.models.jDateTimeField(auto_now_add=True, verbose_name='تاریخ ارسال')),
                ('read_at', django_jalali.db.models.jDateTimeField(blank=True, null=True, verbose_name='تاریخ خواندن')),
                ('recipient', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notifications', to=settings.AUTH_USER_MODEL, verbose_name='دریافت\u200cکننده')),
                ('related_player', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='notifications', to='futsal_club.player', verbose_name='بازیکن مرتبط')),
            ],
            options={
                'verbose_name': 'اعلان',
                'verbose_name_plural': 'اعلان\u200cها',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ExpenseCategory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=150, unique=True, verbose_name='نام دسته هزینه')),
                ('description', models.TextField(blank=True, verbose_name='توضیحات')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('created_at', django_jalali.db.models.jDateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='expense_categories', to=settings.AUTH_USER_MODEL, verbose_name='ایجاد شده توسط')),
            ],
            options={
                'verbose_name': 'دسته هزینه',
                'verbose_name_plural': 'دسته\u200cهای هزینه',
            },
        ),
        migrations.CreateModel(
            name='Expense',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255, verbose_name='عنوان')),
                ('amount', models.DecimalField(decimal_places=0, max_digits=14, verbose_name='مبلغ (ریال)')),
                ('transaction_type', models.CharField(choices=[('expense', 'هزینه'), ('income', 'درآمد')], default='expense', max_length=10, verbose_name='نوع تراکنش')),
                ('date', django_jalali.db.models.jDateField(verbose_name='تاریخ')),
                ('description', models.TextField(blank=True, verbose_name='شرح')),
                ('attachment', models.FileField(blank=True, null=True, upload_to='expenses/', verbose_name='پیوست')),
                ('created_at', django_jalali.db.models.jDateTimeField(auto_now_add=True, verbose_name='تاریخ ثبت')),
                ('category', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='transactions', to='futsal_club.expensecategory', verbose_name='دسته')),
                ('recorded_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='recorded_expenses', to=settings.AUTH_USER_MODEL, verbose_name='ثبت شده توسط')),
            ],
            options={
                'verbose_name': 'تراکنش مالی',
                'verbose_name_plural': 'تراکنش\u200cهای مالی',
                'ordering': ['-date'],
            },
        ),
        migrations.CreateModel(
            name='Exercise',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255, verbose_name='عنوان تمرین')),
                ('description', models.TextField(blank=True, verbose_name='توضیحات')),
                ('media_type', models.CharField(choices=[('video', 'ویدیو'), ('image', 'تصویر'), ('gif', 'گیف'), ('document', 'سند')], max_length=10, verbose_name='نوع رسانه')),
                ('file', models.FileField(upload_to='exercises/', verbose_name='فایل')),
                ('thumbnail', models.ImageField(blank=True, null=True, upload_to='exercises/thumbnails/', verbose_name='تصویر بندانگشتی')),
                ('duration_minutes', models.PositiveSmallIntegerField(blank=True, null=True, verbose_name='مدت زمان (دقیقه)')),
                ('is_public', models.BooleanField(default=False, verbose_name='قابل مشاهده برای همه مربیان')),
                ('created_at', django_jalali.db.models.jDateTimeField(auto_now_add=True, verbose_name='تاریخ آپلود')),
                ('updated_at', django_jalali.db.models.jDateTimeField(auto_now=True, verbose_name='آخرین ویرایش')),
                ('categories', models.ManyToManyField(blank=True, related_name='exercises', to='futsal_club.trainingcategory', verbose_name='دسته\u200cهای مرتبط')),
                ('tags', models.ManyToManyField(blank=True, to='futsal_club.exercisetag', verbose_name='برچسب\u200cها')),
                ('uploaded_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='exercises', to='futsal_club.coach', verbose_name='آپلود شده توسط')),
            ],
            options={
                'verbose_name': 'تمرین',
                'verbose_name_plural': 'تمرین\u200cها',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AddField(
            model_name='coachcategoryrate',
            name='category',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='futsal_club.trainingcategory', verbose_name='دسته آموزشی'),
        ),
        migrations.AddField(
            model_name='coachcategoryrate',
            name='coach',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='futsal_club.coach', verbose_name='مربی'),
        ),
        migrations.AddField(
            model_name='attendancesheet',
            name='category',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='attendance_sheets', to='futsal_club.trainingcategory', verbose_name='دسته آموزشی'),
        ),
        migrations.AddField(
            model_name='attendancesheet',
            name='finalized_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='finalized_sheets', to=settings.AUTH_USER_MODEL, verbose_name='نهایی شده توسط'),
        ),
        migrations.CreateModel(
            name='Announcement',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255, verbose_name='عنوان')),
                ('body', models.TextField(verbose_name='متن اطلاعیه')),
                ('is_pinned', models.BooleanField(default=False, verbose_name='سنجاق شده')),
                ('published_at', django_jalali.db.models.jDateTimeField(auto_now_add=True, verbose_name='تاریخ انتشار')),
                ('author', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='announcements', to=settings.AUTH_USER_MODEL, verbose_name='نویسنده')),
                ('categories', models.ManyToManyField(blank=True, related_name='announcements', to='futsal_club.trainingcategory', verbose_name='دسته\u200cهای هدف')),
            ],
            options={
                'verbose_name': 'اطلاعیه',
                'verbose_name_plural': 'اطلاعیه\u200cها',
                'ordering': ['-published_at'],
            },
        ),
        migrations.CreateModel(
            name='TrainingSchedule',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('weekday', models.CharField(choices=[('sat', 'شنبه'), ('sun', 'یکشنبه'), ('mon', 'دوشنبه'), ('tue', 'سه\u200cشنبه'), ('wed', 'چهارشنبه'), ('thu', 'پنجشنبه'), ('fri', 'جمعه')], max_length=3, verbose_name='روز هفته')),
                ('start_time', models.TimeField(verbose_name='ساعت شروع')),
                ('end_time', models.TimeField(blank=True, null=True, verbose_name='ساعت پایان')),
                ('location', models.CharField(blank=True, max_length=200, verbose_name='مکان / سالن')),
                ('category', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='schedules', to='futsal_club.trainingcategory', verbose_name='دسته آموزشی')),
            ],
            options={
                'verbose_name': 'زمان\u200cبندی تمرین',
                'verbose_name_plural': 'زمان\u200cبندی\u200cهای تمرین',
                'unique_together': {('category', 'weekday', 'start_time')},
            },
        ),
        migrations.CreateModel(
            name='PlayerSoftTrait',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('score', models.PositiveSmallIntegerField(default=5, help_text='بازه ۱ تا ۱۰', verbose_name='امتیاز')),
                ('note', models.CharField(blank=True, max_length=255, verbose_name='یادداشت')),
                ('evaluated_at', django_jalali.db.models.jDateTimeField(auto_now=True, verbose_name='تاریخ ارزیابی')),
                ('evaluated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='ارزیابی شده توسط')),
                ('technical_profile', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='soft_traits', to='futsal_club.technicalprofile', verbose_name='پروفایل فنی')),
                ('trait_type', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='player_traits', to='futsal_club.softtraittype', verbose_name='نوع ویژگی')),
            ],
            options={
                'verbose_name': 'ویژگی نرم بازیکن',
                'verbose_name_plural': 'ویژگی\u200cهای نرم بازیکنان',
                'unique_together': {('technical_profile', 'trait_type')},
            },
        ),
        migrations.CreateModel(
            name='PlayerAttendance',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status', models.CharField(choices=[('present', 'حاضر'), ('absent', 'غایب'), ('excused', 'غیبت موجه')], default='absent', max_length=10, verbose_name='وضعیت')),
                ('note', models.CharField(blank=True, max_length=255, verbose_name='یادداشت')),
                ('player', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='attendances', to='futsal_club.player', verbose_name='بازیکن')),
                ('session', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='player_records', to='futsal_club.sessiondate', verbose_name='جلسه')),
            ],
            options={
                'verbose_name': 'حضور بازیکن',
                'verbose_name_plural': 'حضور بازیکنان',
                'unique_together': {('session', 'player')},
            },
        ),
        migrations.CreateModel(
            name='CoachSalary',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('sessions_attended', models.PositiveSmallIntegerField(default=0, verbose_name='تعداد جلسات حاضر')),
                ('session_rate', models.DecimalField(decimal_places=0, max_digits=12, verbose_name='نرخ هر جلسه (ریال)')),
                ('base_amount', models.DecimalField(decimal_places=0, max_digits=14, verbose_name='حقوق پایه (ریال)')),
                ('manual_adjustment', models.DecimalField(decimal_places=0, default=0, max_digits=12, verbose_name='تعدیل دستی (ریال)')),
                ('adjustment_reason', models.CharField(blank=True, max_length=255, verbose_name='دلیل تعدیل')),
                ('final_amount', models.DecimalField(decimal_places=0, max_digits=14, verbose_name='حقوق نهایی (ریال)')),
                ('status', models.CharField(choices=[('calculated', 'محاسبه شده'), ('approved', 'تأیید شده'), ('paid', 'پرداخت شده')], default='calculated', max_length=15, verbose_name='وضعیت')),
                ('paid_at', django_jalali.db.models.jDateTimeField(blank=True, null=True, verbose_name='تاریخ پرداخت')),
                ('created_at', django_jalali.db.models.jDateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('attendance_sheet', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='coach_salaries', to='futsal_club.attendancesheet', verbose_name='لیست حضور')),
                ('category', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='coach_salaries', to='futsal_club.trainingcategory', verbose_name='دسته آموزشی')),
                ('coach', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='salaries', to='futsal_club.coach', verbose_name='مربی')),
                ('processed_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='processed_salaries', to=settings.AUTH_USER_MODEL, verbose_name='پردازش شده توسط')),
            ],
            options={
                'verbose_name': 'حقوق مربی',
                'verbose_name_plural': 'حقوق مربیان',
                'unique_together': {('coach', 'category', 'attendance_sheet')},
            },
        ),
        migrations.AlterUniqueTogether(
            name='coachcategoryrate',
            unique_together={('coach', 'category')},
        ),
        migrations.CreateModel(
            name='CoachAttendance',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status', models.CharField(choices=[('present', 'حاضر'), ('absent', 'غایب'), ('excused', 'غیبت موجه')], default='absent', max_length=10, verbose_name='وضعیت')),
                ('note', models.CharField(blank=True, max_length=255, verbose_name='یادداشت')),
                ('coach', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='attendances', to='futsal_club.coach', verbose_name='مربی')),
                ('session', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='coach_records', to='futsal_club.sessiondate', verbose_name='جلسه')),
            ],
            options={
                'verbose_name': 'حضور مربی',
                'verbose_name_plural': 'حضور مربیان',
                'unique_together': {('session', 'coach')},
            },
        ),
        migrations.AlterUniqueTogether(
            name='attendancesheet',
            unique_together={('category', 'jalali_year', 'jalali_month')},
        ),
    ]
